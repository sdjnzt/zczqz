import{d as ge,a as _,Y as we,i as he,A as ke,e as x,j as l,k as c,b as t,r as u,z as $,l as Ce,c as U,q as r,t as w,J as Ve,h as Z,m,Q as De,ad as j,F as P,f as T,Z as ze,a7 as xe,af as G,aa as H,W as O,g as Ue,o as d}from"./vendor-iaJEqiR6.js";import{_ as Re}from"./index-BgQA1UYf.js";const Se={class:"policy-list-container"},Le={class:"card-header"},$e={class:"header-actions"},Pe={key:0,class:"policy-filter-tags"},Te={class:"policy-title-container"},Ne={class:"policy-title-link"},Fe={class:"pagination-container"},Me={class:"advanced-search-content"},Ae={class:"drawer-footer"},Be={class:"toolbar"},Ke={class:"floating-actions"},je=ge({__name:"list",setup(Ee){const X=Ue(),N=_(!1),b=_(1),F=_(10),M=_(0),v=_(""),p=_(""),f=_(""),h=_(null),R=_(!1),s=we({keyword:"",category:"",level:"",dateRange:null,source:"",status:"all"}),A=[{label:"农业政策",value:"agriculture"},{label:"教育政策",value:"education"},{label:"医疗卫生",value:"healthcare"},{label:"社会保障",value:"social-security"},{label:"财政金融",value:"finance"},{label:"城乡建设",value:"construction"},{label:"交通运输",value:"transportation"},{label:"政务服务",value:"government"}],B=[{label:"国家级",value:"national"},{label:"省级",value:"provincial"},{label:"市级",value:"city"},{label:"县级",value:"county"},{label:"镇级",value:"town"}],E=[{id:1,title:"关于促进城前镇农业产业化发展的实施意见",summary:"为加快推进城前镇农业产业化发展，提升农业现代化水平，特制定本实施意见。",category:"agriculture",level:"town",publishDate:"2025-06-01",source:"邹城市城前镇人民政府",views:245,status:"active"},{id:2,title:"城前镇农村宅基地管理办法（试行）",summary:"规范城前镇农村宅基地管理，保障农民合法权益，促进农村和谐稳定。",category:"construction",level:"town",publishDate:"2025-06-20",source:"邹城市自然资源局",views:198,status:"active"},{id:3,title:"关于加强城前镇基层医疗服务体系建设的通知",summary:"加强基层医疗卫生服务体系建设，提高农村医疗服务质量和水平。",category:"healthcare",level:"city",publishDate:"2025-06-15",source:"邹城市卫健委",views:165,status:"active"},{id:4,title:"城前镇农业生产补贴政策实施细则",summary:"明确农业生产补贴政策的实施范围、申请条件、补贴标准和程序。",category:"agriculture",level:"town",publishDate:"2025-06-10",source:"邹城市财政局",views:320,status:"active"},{id:5,title:"城前镇义务教育优质均衡发展实施方案",summary:"推进城前镇义务教育优质均衡发展，缩小城乡教育差距。",category:"education",level:"county",publishDate:"2025-06-05",source:"邹城市教育局",views:185,status:"active"},{id:6,title:"关于加强城前镇乡村治理体系建设的指导意见",summary:"健全完善城前镇乡村治理体系，提升乡村治理能力和水平。",category:"social-security",level:"county",publishDate:"2025-06-01",source:"邹城市民政局",views:176,status:"active"},{id:7,title:"山东省耕地保护与质量提升行动方案",summary:"加强耕地保护，提升耕地质量，保障粮食安全。",category:"agriculture",level:"provincial",publishDate:"2025-06-15",source:"山东省农业农村厅",views:210,status:"active"},{id:8,title:"邹城市农村人居环境整治提升五年行动实施方案",summary:"改善农村人居环境，建设美丽宜居乡村。",category:"construction",level:"city",publishDate:"2025-06-10",source:"邹城市农业农村局",views:132,status:"active"},{id:9,title:"关于开展城前镇农村人居环境整治行动的通知",summary:"开展农村人居环境整治，提升农村生活品质。",category:"construction",level:"town",publishDate:"2025-06-05",source:"邹城市城前镇人民政府",views:156,status:"active"},{id:10,title:"城前镇新型农村合作医疗制度实施方案",summary:"完善新型农村合作医疗制度，提高农村医疗保障水平。",category:"healthcare",level:"town",publishDate:"2025-06-01",source:"邹城市城前镇人民政府",views:190,status:"active"},{id:11,title:"关于实施乡村振兴战略的指导意见",summary:"全面实施乡村振兴战略，加快推进农业农村现代化。",category:"agriculture",level:"national",publishDate:"2025-06-20",source:"中共中央、国务院",views:458,status:"active"},{id:12,title:"邹城市城乡一体化发展规划",summary:"推进城乡一体化发展，缩小城乡差距。",category:"construction",level:"city",publishDate:"2025-06-15",source:"邹城市发改委",views:178,status:"active"}],I=he(()=>{let o=[...E];if(v.value){const e=v.value.toLowerCase();o=o.filter(n=>n.title.toLowerCase().includes(e)||n.summary.toLowerCase().includes(e)||n.source.toLowerCase().includes(e))}if(p.value&&(o=o.filter(e=>e.category===p.value)),f.value&&(o=o.filter(e=>e.level===f.value)),h.value&&h.value[0]&&h.value[1]){const e=new Date(h.value[0]),n=new Date(h.value[1]);o=o.filter(i=>{const V=new Date(i.publishDate);return V>=e&&V<=n})}return M.value=o.length,o}),ee=o=>{b.value=o,C()},le=o=>{F.value=o,b.value=1,C()},q=()=>{b.value=1,C()},k=()=>{b.value=1,C()},te=o=>{J(o.id)},J=o=>{X.push(`/policy/detail/${o}`)},ae=o=>{O.success(`正在下载: ${o.title}`)},oe=()=>{O.success("正在导出所选政策，请稍候...")},Q=()=>{window.scrollTo({top:0,behavior:"smooth"})},se=()=>{s.keyword="",s.category="",s.level="",s.dateRange=null,s.source="",s.status="all"},ne=()=>{v.value=s.keyword,p.value=s.category,f.value=s.level,h.value=s.dateRange,R.value=!1,b.value=1,C()},C=()=>{N.value=!0,setTimeout(()=>{M.value=E.length,N.value=!1},500)},W=o=>{const e=A.find(n=>n.value===o);return e?e.label:o},Y=o=>{const e=B.find(n=>n.value===o);return e?e.label:o},ue=o=>({agriculture:"success",education:"primary",healthcare:"info","social-security":"warning",finance:"danger",construction:""})[o]||"",re=o=>o,ie=()=>{v.value="",p.value="",f.value="",k()};return ke(()=>{C()}),(o,e)=>{const n=u("el-icon"),i=u("el-button"),V=u("el-input"),S=u("el-option"),L=u("el-select"),g=u("el-tag"),y=u("el-table-column"),de=u("el-table"),ce=u("el-pagination"),D=u("el-form-item"),ve=u("el-date-picker"),K=u("el-radio"),pe=u("el-radio-group"),fe=u("el-form"),_e=u("el-drawer"),me=u("el-card"),z=u("el-tooltip"),ye=Ve("loading");return d(),x("div",Se,[l(me,{class:"policy-card"},{header:t(()=>[c("div",Le,[e[17]||(e[17]=c("h2",null,"政策法规列表",-1)),c("div",$e,[l(V,{modelValue:v.value,"onUpdate:modelValue":e[0]||(e[0]=a=>v.value=a),placeholder:"输入关键词搜索政策",class:"search-input",clearable:"",onKeyup:ze(q,["enter"])},{prefix:t(()=>[l(n,null,{default:t(()=>[l(m(xe))]),_:1})]),append:t(()=>[l(i,{type:"primary",onClick:q,class:"search-btn"},{default:t(()=>e[16]||(e[16]=[r(" 搜索 ")])),_:1,__:[16]})]),_:1},8,["modelValue"]),l(L,{modelValue:p.value,"onUpdate:modelValue":e[1]||(e[1]=a=>p.value=a),placeholder:"选择分类",clearable:"",class:"filter-select",onChange:k},{default:t(()=>[(d(),x(P,null,T(A,a=>l(S,{key:a.value,label:a.label,value:a.value},null,8,["label","value"])),64))]),_:1},8,["modelValue"]),l(L,{modelValue:f.value,"onUpdate:modelValue":e[2]||(e[2]=a=>f.value=a),placeholder:"选择级别",clearable:"",class:"filter-select",onChange:k},{default:t(()=>[(d(),x(P,null,T(B,a=>l(S,{key:a.value,label:a.label,value:a.value},null,8,["label","value"])),64))]),_:1},8,["modelValue"])])])]),default:t(()=>[p.value||f.value||v.value?(d(),x("div",Pe,[e[19]||(e[19]=c("span",{class:"filter-label"},"筛选条件:",-1)),v.value?(d(),U(g,{key:0,closable:"",onClose:e[3]||(e[3]=a=>{v.value="",k()})},{default:t(()=>[r(" 关键词: "+w(v.value),1)]),_:1})):$("",!0),p.value?(d(),U(g,{key:1,closable:"",onClose:e[4]||(e[4]=a=>{p.value="",k()}),type:"success"},{default:t(()=>[r(" 分类: "+w(W(p.value)),1)]),_:1})):$("",!0),f.value?(d(),U(g,{key:2,closable:"",onClose:e[5]||(e[5]=a=>{f.value="",k()}),type:"info"},{default:t(()=>[r(" 级别: "+w(Y(f.value)),1)]),_:1})):$("",!0),l(i,{type:"text",onClick:ie},{default:t(()=>e[18]||(e[18]=[r("清除全部")])),_:1,__:[18]})])):$("",!0),Ce((d(),U(de,{data:I.value,style:{width:"100%"},onRowClick:te,"header-cell-style":{background:"#f5f7fa",color:"#606266"},border:""},{default:t(()=>[l(y,{type:"index",width:"60",label:"序号",align:"center"}),l(y,{prop:"title",label:"标题","min-width":"300","show-overflow-tooltip":""},{default:t(a=>[c("div",Te,[c("span",Ne,w(a.row.title),1),a.row.status==="active"?(d(),U(g,{key:0,size:"small",effect:"plain",type:"success",class:"status-tag"},{default:t(()=>e[20]||(e[20]=[r(" 有效 ")])),_:1,__:[20]})):(d(),U(g,{key:1,size:"small",effect:"plain",type:"info",class:"status-tag"},{default:t(()=>e[21]||(e[21]=[r(" 已废止 ")])),_:1,__:[21]}))])]),_:1}),l(y,{prop:"category",label:"分类",width:"120"},{default:t(a=>[l(g,{type:ue(a.row.category),effect:"plain",size:"small"},{default:t(()=>[r(w(W(a.row.category)),1)]),_:2},1032,["type"])]),_:1}),l(y,{prop:"publishDate",label:"发布日期",width:"120",sortable:""},{default:t(a=>[r(w(re(a.row.publishDate)),1)]),_:1}),l(y,{prop:"level",label:"级别",width:"100"},{default:t(a=>[l(g,{size:"small",effect:"plain",type:a.row.level==="town"?"success":"info"},{default:t(()=>[r(w(Y(a.row.level)),1)]),_:2},1032,["type"])]),_:1}),l(y,{prop:"source",label:"发布机构",width:"180","show-overflow-tooltip":""}),l(y,{prop:"views",label:"阅读量",width:"100",sortable:"",align:"center"}),l(y,{label:"操作",width:"180",fixed:"right"},{default:t(a=>[l(i,{type:"primary",size:"small",onClick:Z(be=>J(a.row.id),["stop"])},{default:t(()=>[l(n,null,{default:t(()=>[l(m(De))]),_:1}),e[22]||(e[22]=r(" 查看 "))]),_:2,__:[22]},1032,["onClick"]),l(i,{type:"success",size:"small",onClick:Z(be=>ae(a.row),["stop"])},{default:t(()=>[l(n,null,{default:t(()=>[l(m(j))]),_:1}),e[23]||(e[23]=r(" 下载 "))]),_:2,__:[23]},1032,["onClick"])]),_:1})]),_:1},8,["data"])),[[ye,N.value]]),c("div",Fe,[l(ce,{"current-page":b.value,"onUpdate:currentPage":e[6]||(e[6]=a=>b.value=a),"page-size":F.value,"onUpdate:pageSize":e[7]||(e[7]=a=>F.value=a),"page-sizes":[10,20,50,100],background:"",layout:"total, sizes, prev, pager, next, jumper",total:M.value,onSizeChange:le,onCurrentChange:ee},null,8,["current-page","page-size","total"])]),l(_e,{modelValue:R.value,"onUpdate:modelValue":e[14]||(e[14]=a=>R.value=a),title:"高级搜索",direction:"rtl",size:"400px"},{default:t(()=>[c("div",Me,[l(fe,{model:s,"label-width":"100px"},{default:t(()=>[l(D,{label:"关键词"},{default:t(()=>[l(V,{modelValue:s.keyword,"onUpdate:modelValue":e[8]||(e[8]=a=>s.keyword=a),placeholder:"标题、内容、发布机构等"},null,8,["modelValue"])]),_:1}),l(D,{label:"政策分类"},{default:t(()=>[l(L,{modelValue:s.category,"onUpdate:modelValue":e[9]||(e[9]=a=>s.category=a),placeholder:"请选择",clearable:"",style:{width:"100%"}},{default:t(()=>[(d(),x(P,null,T(A,a=>l(S,{key:a.value,label:a.label,value:a.value},null,8,["label","value"])),64))]),_:1},8,["modelValue"])]),_:1}),l(D,{label:"发布级别"},{default:t(()=>[l(L,{modelValue:s.level,"onUpdate:modelValue":e[10]||(e[10]=a=>s.level=a),placeholder:"请选择",clearable:"",style:{width:"100%"}},{default:t(()=>[(d(),x(P,null,T(B,a=>l(S,{key:a.value,label:a.label,value:a.value},null,8,["label","value"])),64))]),_:1},8,["modelValue"])]),_:1}),l(D,{label:"发布日期"},{default:t(()=>[l(ve,{modelValue:s.dateRange,"onUpdate:modelValue":e[11]||(e[11]=a=>s.dateRange=a),type:"daterange","range-separator":"至","start-placeholder":"开始日期","end-placeholder":"结束日期",style:{width:"100%"}},null,8,["modelValue"])]),_:1}),l(D,{label:"发布机构"},{default:t(()=>[l(V,{modelValue:s.source,"onUpdate:modelValue":e[12]||(e[12]=a=>s.source=a),placeholder:"请输入发布机构名称"},null,8,["modelValue"])]),_:1}),l(D,{label:"政策效力"},{default:t(()=>[l(pe,{modelValue:s.status,"onUpdate:modelValue":e[13]||(e[13]=a=>s.status=a)},{default:t(()=>[l(K,{label:"active"},{default:t(()=>e[24]||(e[24]=[r("现行有效")])),_:1,__:[24]}),l(K,{label:"expired"},{default:t(()=>e[25]||(e[25]=[r("已废止")])),_:1,__:[25]}),l(K,{label:"all"},{default:t(()=>e[26]||(e[26]=[r("全部")])),_:1,__:[26]})]),_:1},8,["modelValue"])]),_:1})]),_:1},8,["model"]),c("div",Ae,[l(i,{onClick:se},{default:t(()=>e[27]||(e[27]=[r("重置")])),_:1,__:[27]}),l(i,{type:"primary",onClick:ne},{default:t(()=>e[28]||(e[28]=[r("应用")])),_:1,__:[28]})])])]),_:1},8,["modelValue"])]),_:1}),c("div",Be,[l(z,{content:"高级搜索",placement:"left"},{default:t(()=>[l(i,{type:"primary",circle:"",onClick:e[15]||(e[15]=a=>R.value=!0)},{default:t(()=>[l(n,null,{default:t(()=>[l(m(G))]),_:1})]),_:1})]),_:1}),l(z,{content:"批量导出",placement:"left"},{default:t(()=>[l(i,{type:"success",circle:"",onClick:oe},{default:t(()=>[l(n,null,{default:t(()=>[l(m(j))]),_:1})]),_:1})]),_:1}),l(z,{content:"返回顶部",placement:"left"},{default:t(()=>[l(i,{circle:"",onClick:Q},{default:t(()=>[l(n,null,{default:t(()=>[l(m(H))]),_:1})]),_:1})]),_:1})]),c("div",Ke,[l(z,{content:"筛选",placement:"left"},{default:t(()=>[l(i,{type:"primary",circle:"",class:"action-button"},{default:t(()=>[l(n,null,{default:t(()=>[l(m(G))]),_:1})]),_:1})]),_:1}),l(z,{content:"下载",placement:"left"},{default:t(()=>[l(i,{type:"success",circle:"",class:"action-button"},{default:t(()=>[l(n,null,{default:t(()=>[l(m(j))]),_:1})]),_:1})]),_:1}),l(z,{content:"回到顶部",placement:"left"},{default:t(()=>[l(i,{circle:"",class:"action-button",onClick:Q},{default:t(()=>[l(n,null,{default:t(()=>[l(m(H))]),_:1})]),_:1})]),_:1})])])}}}),Qe=Re(je,[["__scopeId","data-v-ffafc9f6"]]);export{Qe as default};
