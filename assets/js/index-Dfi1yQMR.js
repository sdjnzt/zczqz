import{d as se,a as c,e as x,j as t,b as a,r,F as V,f as F,k as l,m as d,aC as de,q as _,l as j,J as ce,c as g,L as I,aq as q,aB as K,at as H,t as w,z as re,X as k,o as m,n as J}from"./vendor-iaJEqiR6.js";import{b as O,d as v,n as b}from"./buttonActions-DIXrA_ga.js";import{_ as ue}from"./index-CLUnicPH.js";const pe={class:"public-service-container"},me={class:"category-content"},ve={class:"category-info"},_e={class:"card-header"},ge=["onClick"],fe={class:"card-header"},he={class:"pagination-container"},Ce={class:"card-header"},we={class:"pagination-container"},ke=se({__name:"index",setup(Te){const X=[{title:"政务服务",description:"提供各类政务事项办理服务",icon:"Document"},{title:"便民服务",description:"提供日常生活便民服务",icon:"House"},{title:"教育服务",description:"提供教育相关服务",icon:"School"},{title:"医疗服务",description:"提供医疗健康服务",icon:"FirstAidKit"}],Q=[{name:"社保查询",icon:"User"},{name:"公积金查询",icon:"Money"},{name:"户籍办理",icon:"Document"},{name:"婚姻登记",icon:"User"},{name:"生育服务",icon:"FirstAidKit"},{name:"教育服务",icon:"School"},{name:"就业服务",icon:"OfficeBuilding"},{name:"养老服务",icon:"User"}],f=c([{id:1,title:"城乡居民养老保险办理指南",department:"社保中心",updateTime:"2025-06-15 10:00",views:1250},{id:2,title:"新生儿落户办理流程",department:"派出所",updateTime:"2025-06-17 15:30",views:980},{id:3,title:"个体工商户注册登记指南",department:"市场监督管理局",updateTime:"2025-06-18 09:15",views:1560},{id:4,title:"居民医保参保缴费指南",department:"医保局",updateTime:"2025-06-19 14:20",views:2150},{id:5,title:"不动产登记办理流程",department:"自然资源局",updateTime:"2025-06-20 11:30",views:1830},{id:6,title:"低保申请办理指南",department:"民政局",updateTime:"2025-06-21 16:45",views:760},{id:7,title:"残疾人证办理流程",department:"残联",updateTime:"2025-06-22 10:15",views:520}]),z=c(!1),B=c(1),S=c(10),T=c(7),h=c([{id:1,title:"关于社保卡办理的问题咨询",user:"张先生",department:"社保中心",status:"已回复",createTime:"2025-06-15 14:30"},{id:2,title:"新生儿医保办理流程咨询",user:"李女士",department:"医保局",status:"待回复",createTime:"2025-06-16 16:45"},{id:3,title:"异地就医报销问题",user:"王先生",department:"医保局",status:"已回复",createTime:"2025-06-17 09:20"},{id:4,title:"公积金提取条件咨询",user:"赵女士",department:"住房公积金中心",status:"已回复",createTime:"2025-06-18 11:15"},{id:5,title:"居住证办理材料咨询",user:"刘先生",department:"派出所",status:"待回复",createTime:"2025-06-19 15:40"},{id:6,title:"企业营业执照变更流程",user:"陈先生",department:"市场监督管理局",status:"待回复",createTime:"2025-06-20 10:30"}]),$=c(!1),D=c(1),L=c(10),y=c(6),R=i=>{b.navigate(i.title,()=>{console.log("已导航到分类:",i)})},W=i=>{b.navigate(i.name,()=>{console.log("已导航到服务:",i)})},Y=i=>{v.view("办事指南",()=>{i.views+=1,console.log("查看指南:",i)})},Z=i=>{k.prompt("请编辑指南标题","编辑指南",{confirmButtonText:"确定",cancelButtonText:"取消",inputValue:i.title}).then(({value:e})=>{const p=i.title;i.title=e,i.updateTime=new Date().toLocaleString(),v.edit("办事指南",()=>{console.log(`指南已从"${p}"更新为"${e}"`)})}).catch(()=>{})},ee=i=>{v.delete("办事指南",i.title,()=>{const e=f.value.findIndex(p=>p.id===i.id);e!==-1&&(f.value.splice(e,1),T.value-=1)})},te=()=>{k.prompt("请输入指南标题","发布指南",{confirmButtonText:"确定",cancelButtonText:"取消",inputPattern:/.+/,inputErrorMessage:"标题不能为空"}).then(({value:i})=>{const e={id:Date.now(),title:i,department:"镇政府办公室",updateTime:new Date().toLocaleString(),views:0};f.value.unshift(e),T.value+=1,v.add("办事指南",()=>{console.log("新指南已发布:",e)})}).catch(()=>{})},P=i=>{v.view("在线咨询",()=>{console.log("查看咨询:",i),i.status==="待回复"&&k.prompt("请输入回复内容","回复咨询",{confirmButtonText:"回复",cancelButtonText:"取消",inputType:"textarea",inputPattern:/.+/,inputErrorMessage:"回复内容不能为空"}).then(()=>{i.status="已回复",v.edit("咨询回复")}).catch(()=>{})})},ne=()=>{k.prompt("请输入咨询主题","发起咨询",{confirmButtonText:"确定",cancelButtonText:"取消",inputPattern:/.+/,inputErrorMessage:"咨询主题不能为空"}).then(({value:i})=>{const e={id:Date.now(),title:i,user:"当前用户",department:"待分配",status:"待回复",createTime:new Date().toLocaleString()};h.value.unshift(e),y.value+=1,v.add("在线咨询",()=>{console.log("新咨询已提交:",e)})}).catch(()=>{})},ie=i=>{v.delete("在线咨询",i.title,()=>{const e=h.value.findIndex(p=>p.id===i.id);e!==-1&&(h.value.splice(e,1),y.value-=1)})},ae=()=>{b.navigate("服务列表页面")};return(i,e)=>{const p=r("el-icon"),C=r("el-card"),U=r("el-col"),A=r("el-row"),o=r("el-button"),s=r("el-table-column"),M=r("el-button-group"),E=r("el-table"),G=r("el-pagination"),le=r("el-tag"),N=ce("loading");return m(),x("div",pe,[t(A,{gutter:20,class:"service-nav"},{default:a(()=>[(m(),x(V,null,F(X,(n,u)=>t(U,{xs:24,sm:12,md:6,key:u},{default:a(()=>[t(C,{shadow:"hover",class:"category-card",onClick:oe=>R(n)},{default:a(()=>[l("div",me,[t(p,{class:"category-icon",size:40},{default:a(()=>[(m(),g(J(n.icon)))]),_:2},1024),l("div",ve,[l("h3",null,w(n.title),1),l("p",null,w(n.description),1)])])]),_:2},1032,["onClick"])]),_:2},1024)),64))]),_:1}),t(C,{class:"hot-services",shadow:"hover"},{header:a(()=>[l("div",_e,[e[7]||(e[7]=l("span",null,"热门服务",-1)),t(o,{type:"primary",link:"",icon:d(de),onClick:ae},{default:a(()=>e[6]||(e[6]=[_("更多服务")])),_:1,__:[6]},8,["icon"])])]),default:a(()=>[t(A,{gutter:20},{default:a(()=>[(m(),x(V,null,F(Q,(n,u)=>t(U,{xs:12,sm:8,md:6,key:u},{default:a(()=>[l("div",{class:"service-item",onClick:oe=>W(n)},[t(p,{size:24},{default:a(()=>[(m(),g(J(n.icon)))]),_:2},1024),l("span",null,w(n.name),1)],8,ge)]),_:2},1024)),64))]),_:1})]),_:1}),t(C,{class:"guide-section",shadow:"hover"},{header:a(()=>[l("div",fe,[e[10]||(e[10]=l("span",null,"办事指南",-1)),l("div",null,[t(o,{type:"primary",size:"small",icon:d(H),onClick:te},{default:a(()=>e[8]||(e[8]=[_("发布指南")])),_:1,__:[8]},8,["icon"]),t(o,{type:"success",size:"small",onClick:e[0]||(e[0]=n=>d(O).refresh(()=>z.value=!1))},{default:a(()=>e[9]||(e[9]=[_("刷新")])),_:1,__:[9]})])])]),default:a(()=>[j((m(),g(E,{data:f.value,style:{width:"100%"},border:"",stripe:""},{default:a(()=>[t(s,{prop:"title",label:"标题","min-width":"200"}),t(s,{prop:"department",label:"发布部门",width:"150"}),t(s,{prop:"updateTime",label:"更新时间",width:"180"}),t(s,{prop:"views",label:"浏览量",width:"100"}),t(s,{label:"操作",width:"140",fixed:"right"},{default:a(({row:n})=>[t(M,null,{default:a(()=>[t(o,{type:"primary",icon:d(I),circle:"",onClick:u=>Y(n),title:"查看"},null,8,["icon","onClick"]),t(o,{type:"warning",icon:d(q),circle:"",onClick:u=>Z(n),title:"编辑"},null,8,["icon","onClick"]),t(o,{type:"danger",icon:d(K),circle:"",onClick:u=>ee(n),title:"删除"},null,8,["icon","onClick"])]),_:2},1024)]),_:1})]),_:1},8,["data"])),[[N,z.value]]),l("div",he,[t(G,{"current-page":B.value,"onUpdate:currentPage":e[1]||(e[1]=n=>B.value=n),"page-size":S.value,"onUpdate:pageSize":e[2]||(e[2]=n=>S.value=n),"page-sizes":[5,10,20,50],total:T.value,layout:"total, sizes, prev, pager, next, jumper"},null,8,["current-page","page-size","total"])])]),_:1}),t(C,{class:"consultation-section",shadow:"hover"},{header:a(()=>[l("div",Ce,[e[13]||(e[13]=l("span",null,"在线咨询",-1)),l("div",null,[t(o,{type:"primary",size:"small",icon:d(H),onClick:ne},{default:a(()=>e[11]||(e[11]=[_("发起咨询")])),_:1,__:[11]},8,["icon"]),t(o,{type:"success",size:"small",onClick:e[3]||(e[3]=n=>d(O).refresh(()=>$.value=!1))},{default:a(()=>e[12]||(e[12]=[_("刷新")])),_:1,__:[12]})])])]),default:a(()=>[j((m(),g(E,{data:h.value,style:{width:"100%"},border:"",stripe:""},{default:a(()=>[t(s,{prop:"title",label:"咨询主题","min-width":"200"}),t(s,{prop:"user",label:"咨询人",width:"120"}),t(s,{prop:"department",label:"回复部门",width:"150"}),t(s,{prop:"status",label:"状态",width:"100"},{default:a(({row:n})=>[t(le,{type:n.status==="已回复"?"success":"warning"},{default:a(()=>[_(w(n.status),1)]),_:2},1032,["type"])]),_:1}),t(s,{prop:"createTime",label:"咨询时间",width:"180"}),t(s,{label:"操作",width:"140",fixed:"right"},{default:a(({row:n})=>[t(M,null,{default:a(()=>[t(o,{type:"primary",icon:d(I),circle:"",onClick:u=>P(n),title:"查看"},null,8,["icon","onClick"]),n.status==="待回复"?(m(),g(o,{key:0,type:"warning",icon:d(q),circle:"",onClick:u=>P(n),title:"回复"},null,8,["icon","onClick"])):re("",!0),t(o,{type:"danger",icon:d(K),circle:"",onClick:u=>ie(n),title:"删除"},null,8,["icon","onClick"])]),_:2},1024)]),_:1})]),_:1},8,["data"])),[[N,$.value]]),l("div",we,[t(G,{"current-page":D.value,"onUpdate:currentPage":e[4]||(e[4]=n=>D.value=n),"page-size":L.value,"onUpdate:pageSize":e[5]||(e[5]=n=>L.value=n),"page-sizes":[5,10,20,50],total:y.value,layout:"total, sizes, prev, pager, next, jumper"},null,8,["current-page","page-size","total"])])]),_:1})])}}}),ze=ue(ke,[["__scopeId","data-v-f5372a82"]]);export{ze as default};
